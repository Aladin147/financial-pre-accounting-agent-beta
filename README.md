<p align="center">
  <img src="https://raw.githubusercontent.com/username/financial-pre-accounting-agent-beta/master/resources/images/app-banner.png" alt="Financial Pre-Accounting Agent" width="600">
</p>

<h1 align="center">Financial Pre-Accounting Manager</h1>
<h3 align="center">For Moroccan Companies | Finance Law 2025 (Law No. 60-24) Compliant</h3>

<p align="center">
  <img src="https://img.shields.io/badge/version-v3.2.0--beta-D4B483.svg" alt="Version">
  <img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License">
  <img src="https://img.shields.io/badge/platform-Windows%20|%20macOS%20|%20Linux-lightgrey.svg" alt="Platform">
  <img src="https://img.shields.io/badge/node-%3E%3D12.0.0-green.svg" alt="Node Requirement">
</p>

---

## üìã Table of Contents

- [Overview](#-overview)
- [Key Features](#-key-features)
- [Screenshots](#-screenshots)
- [New in v3.1.2](#-new-in-v312)
- [Getting Started](#-getting-started)
  - [System Requirements](#system-requirements)
  - [Installation](#installation)
  - [Quick Start](#quick-start)
- [Usage Examples](#-usage-examples)
  - [Document Management](#document-management)
  - [Tax Calculations](#tax-calculations)
  - [Financial Reports](#financial-reports)
- [Finance Law 2025 Compliance](#-finance-law-2025-compliance)
- [For Accountants](#-for-accountants)
- [Development Roadmap](#-development-roadmap)
- [Project Structure](#-project-structure)
- [Troubleshooting](#-troubleshooting)
  - [Common Issues](#common-issues)
  - [Error Logging](#error-logging)
- [Performance Optimization](#-performance-optimization)
- [Security & Privacy](#-security--privacy)
- [Contributing](#-contributing)
- [Frequently Asked Questions](#-frequently-asked-questions)
- [License](#-license)
- [Disclaimer](#-disclaimer)

---

## üîç Overview

Financial Pre-Accounting Manager is a comprehensive desktop application designed specifically for Moroccan businesses to organize financial documents, generate detailed reports, and provide tax calculations based on Finance Law 2025 (Law No. 60-24). 

This tool serves as a "pre-accountant" that helps businesses prepare, verify, and validate financial data before submission to professional accountants. It bridges the gap between everyday financial operations and formal accounting requirements.

<p align="center">
  <b>üí° Not a replacement for professional accounting but a powerful preparation tool.</b>
</p>

---

## üåü Key Features

<table>
  <tr>
    <td width="33%">
      <h3 align="center">üìÅ Document Management</h3>
      <ul>
        <li>Structured directory system for financial documents</li>
        <li>Automatic categorization of invoices</li>
        <li>Smart document organization with metadata tracking</li>
        <li>Multi-currency support with automatic detection</li>
      </ul>
    </td>
    <td width="33%">
      <h3 align="center">üßÆ Tax Calculation Engine</h3>
      <ul>
        <li>Progressive Corporate Income Tax calculations (17.5%-34%)</li>
        <li>VAT handling with sector-specific adjustments</li>
        <li>Minimum contribution calculations (0.25% of turnover)</li>
        <li>Social Solidarity Contribution calculations</li>
      </ul>
    </td>
    <td width="33%">
      <h3 align="center">üìä Data Visualization</h3>
      <ul>
        <li>Interactive financial dashboards</li>
        <li>Revenue vs. expense tracking</li>
        <li>Document distribution analysis</li>
        <li>Tax liability projections</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td width="33%">
      <h3 align="center">üìù Advanced Reporting</h3>
      <ul>
        <li>Customizable PDF financial reports</li>
        <li>Detailed tax breakdowns</li>
        <li>Revenue and expense summaries</li>
        <li>Professional-grade report exports for accountants</li>
      </ul>
    </td>
    <td width="33%">
      <h3 align="center">üîç Document Intelligence</h3>
      <ul>
        <li>Automatic data extraction from PDF, images & Word</li>
        <li>Financial data recognition (amounts, dates, IDs)</li>
        <li>Smart document classification</li>
        <li>Confidence scoring for extracted data</li>
      </ul>
    </td>
    <td width="33%">
      <h3 align="center">üîÑ Export & Archive</h3>
      <ul>
        <li>ZIP archive generation for accountant handover</li>
        <li>Predefined structure for easy accounting integration</li>
        <li>Document versioning and tracking</li>
        <li>Complete audit trail for document changes</li>
      </ul>
    </td>
  </tr>
</table>

---

## üì∏ Screenshots

<p align="center">
  <img src="https://raw.githubusercontent.com/username/financial-pre-accounting-agent-beta/master/resources/images/dashboard-screenshot.png" alt="Dashboard" width="80%">
  <br><em>Dashboard with new Mustard Theme interface</em>
</p>

<table>
  <tr>
    <td width="50%">
      <img src="https://raw.githubusercontent.com/username/financial-pre-accounting-agent-beta/master/resources/images/doc-manager.png" alt="Document Manager" width="100%">
      <p align="center"><em>Document Management Interface</em></p>
    </td>
    <td width="50%">
      <img src="https://raw.githubusercontent.com/username/financial-pre-accounting-agent-beta/master/resources/images/tax-calculator.png" alt="Tax Calculator" width="100%">
      <p align="center"><em>Finance Law 2025 Tax Calculator</em></p>
    </td>
  </tr>
  <tr>
    <td width="50%">
      <img src="https://raw.githubusercontent.com/username/financial-pre-accounting-agent-beta/master/resources/images/reports.png" alt="Financial Reports" width="100%">
      <p align="center"><em>Financial Reporting Module</em></p>
    </td>
    <td width="50%">
      <img src="https://raw.githubusercontent.com/username/financial-pre-accounting-agent-beta/master/resources/images/visualization.png" alt="Data Visualization" width="100%">
      <p align="center"><em>Interactive Data Visualization</em></p>
    </td>
  </tr>
</table>

---

## üöÄ New in v3.2.0-beta

### üìÅ Enhanced Document Manager

- **Complete Document Organization System**:
  - Structured tabs for Incoming and Outgoing invoices
  - Intelligent document categorization
  - Intuitive folder structure for financial documents
  - Streamlined document navigation and filtering

- **Advanced Document Upload**:
  - Powerful drag-and-drop document uploader with multi-file support
  - Batch document upload with progress tracking
  - Intelligent file type detection and validation
  - Real-time upload status indicators

### üîç Document Processing Improvements

- **Streamlined Document Processor**:
  - Enhanced OCR and data extraction capabilities
  - Multi-document selection for batch processing
  - Interactive processing interface with live progress tracking
  - Visual confidence score indicators for extracted data
  - Improved data recognition for financial documents

- **User Experience Enhancements**:
  - Improved document selection interactions
  - Better visual feedback during document processing
  - Enhanced UI for document management workflows
  - Integrated help system for processing features

### ‚öôÔ∏è Technical Improvements

- **Architecture Enhancements**:
  - Event-driven architecture for document interactions
  - Optimized document rendering for large sets
  - Enhanced file handling with proper validation
  - Improved UI performance with optimized rendering

- **Performance Optimizations**:
  - Faster document processing speed
  - Reduced memory usage during batch operations
  - More responsive document navigation
  - Optimized storage of document metadata

---

## üöÄ Getting Started

### System Requirements

- **Operating System**: Windows 10/11, macOS 10.14+, or Ubuntu 18.04+
- **Processor**: Intel/AMD dual-core or equivalent
- **Memory**: 4GB RAM (8GB recommended)
- **Storage**: 500MB free space (plus storage for documents)
- **Node.js**: v12 or later (but below v22)
- **Display**: 1280√ó720 or higher resolution

### Installation

#### Option 1: Installer Packages (Recommended)

Download the appropriate installer for your platform from the [Releases page](https://github.com/username/financial-pre-accounting-agent-beta/releases):

- `financial-pre-accounting-agent-setup-3.1.2.exe` for Windows
- `Financial.Pre.Accounting.Agent-3.1.2.dmg` for macOS
- `financial-pre-accounting-agent-3.1.2.AppImage` for Linux

#### Option 2: Manual Installation

```bash
# Clone the repository
git clone https://github.com/username/financial-pre-accounting-agent-beta.git

# Navigate to the project directory
cd financial-pre-accounting-agent-beta

# Install dependencies
npm install

# Start the application
npm run start
```

### Quick Start

#### Windows Quick Start

1. Double-click the `start-app.bat` file
2. The script will automatically install dependencies and launch the application
3. Navigate to the "Document Manager" section to begin importing your financial documents

You can also use `restart-app.bat` to quickly restart the application after making changes.

#### First-Time Setup Wizard

When you first launch the application, you'll be guided through a setup process:

1. Set your company information
2. Configure tax settings
3. Set up document directories
4. Choose your preferred theme (Mustard theme is default in v3.1.2)
5. Set up backup preferences

---

## üíº Usage Examples

### Document Management

```
üìÅ Document Flow
1. Import financial document (PDF/image/Word)
2. Automatic data extraction and classification
3. Review and confirm extracted data
4. Document stored with metadata in appropriate directory
5. Data added to financial database for reporting and tax calculations
```

**Example**: Importing an Invoice

1. Go to "Document Manager"
2. Click "Import Document" or drag-and-drop
3. The system automatically:
   - Extracts vendor/client information
   - Identifies invoice number and date
   - Detects currency and amounts
   - Classifies as incoming or outgoing
4. Review and confirm the extracted data
5. Click "Save" to add to your document database

### Tax Calculations

**Finance Law 2025 Corporate Income Tax Example**:

For a company with:
- Annual Revenue: 5,000,000 MAD
- Expenses: 3,750,000 MAD
- Net Taxable Income: 1,250,000 MAD

The progressive tax calculation would be:
- First 300,000 MAD @ 17.5% = 52,500 MAD
- Next 700,000 MAD @ 20.0% = 140,000 MAD
- Remaining 250,000 MAD @ 22.75% = 56,875 MAD
- **Total Income Tax**: 249,375 MAD
- **Effective Tax Rate**: 19.95%

**Minimum Contribution Check**:
- 0.25% of turnover = 12,500 MAD
- Since calculated tax (249,375 MAD) > minimum contribution (12,500 MAD), the calculated tax applies

### Financial Reports

1. Go to "Reports" section
2. Select "Quarterly Financial Summary"
3. Choose date range (e.g., Q1 2025)
4. Click "Generate Report"
5. Review the on-screen preview
6. Click "Export to PDF" to save or print

**Available Report Types**:
- Tax Liability Projection
- Revenue and Expense Summary
- Document Inventory
- VAT Reconciliation
- Income Statement Preview
- Accountant Handover Package

---

## üìú Finance Law 2025 Compliance

Financial Pre-Accounting Manager is fully compliant with Morocco's Finance Law 2025 (Law No. 60-24), implementing all relevant tax regulations:

### Corporate Income Tax (CIT)

The application implements the progressive tax rate structure:

| Taxable Income (MAD)           | Tax Rate |
|--------------------------------|----------|
| Up to 300,000                  | 17.5%    |
| 300,001 to 1,000,000           | 20.0%    |
| 1,000,001 to 100,000,000       | 22.75%   |
| Over 100,000,000               | 34.0%    |

### Minimum Contribution

Automatically calculates the minimum contribution of 0.25% of turnover without VAT, ensuring your tax calculation is never below this threshold.

### Value-Added Tax (VAT)

Handles all VAT rates and their phased adjustments for different sectors:
- Standard rate: 20%
- Reduced rates: 7%, 10%, 14%
- Special provisions for certain sectors (e.g., electricity, transport)

### Social Solidarity Contribution

Implements the Social Solidarity Contribution calculation for companies with net profits exceeding specified thresholds.

### Deduction Rules

Applies appropriate rules for deductible expenses, including:
- Business expenses
- Depreciation
- Provisions
- Interest expenses
- Losses carried forward

---

## üë®‚Äçüíº For Accountants

Financial Pre-Accounting Manager is designed to make your job easier by providing well-organized financial data from your clients.

### What You'll Receive

When clients use our "Accountant Handover" feature, you'll receive:

1. **Structured ZIP Archive** containing:
   - Categorized financial documents (incoming/outgoing invoices)
   - Detailed transaction logs
   - Bank statement reconciliation data
   - Tax calculation worksheets
   - Summary reports

2. **Standardized Format** compatible with:
   - Excel
   - Common accounting software packages
   - Manual entry systems

3. **Data Verification Reports** highlighting:
   - Potential discrepancies
   - Unusual transactions
   - Tax calculation checks
   - Currency conversion audits

### Benefits for Accountants

- **Reduced Data Entry**: Pre-extracted data in structured format
- **Organized Documents**: Consistent filing system
- **Error Reduction**: Pre-validated calculations
- **Time Savings**: Focus on analysis rather than data organization
- **Improved Client Collaboration**: Shared understanding of financial data

---

## üõ£Ô∏è Development Roadmap

<p align="center">
  <img src="https://raw.githubusercontent.com/username/financial-pre-accounting-agent-beta/master/resources/images/roadmap.png" alt="Development Roadmap" width="80%">
</p>

### Current: v3.1.2

‚úÖ Modernized Mustard Theme interface  
‚úÖ Enhanced data visualization  
‚úÖ Multi-currency support  
‚úÖ Document processing improvements  
‚úÖ UI/UX refinements  
‚úÖ Complete navigation system  
‚úÖ Fully functional tax calculator  
‚úÖ Interactive charts and visualizations  

### Next: v3.2.0-beta (Q3 2025)

üîÑ Advanced batch processing for high-volume documents  
üîÑ Cloud synchronization options  
üîÑ Machine learning improvements for data extraction  
üîÑ Enhanced VAT and tax calculation algorithms  
üîÑ Performance optimizations for large document sets  
üîÑ Multiple user support with role-based access  

### Future: v4.0.0 (Q4 2025)

üìã Complete production-ready release  
üìã Comprehensive documentation and tutorials  
üìã Installer packages for all platforms  
üìã Enhanced security features  
üìã API for third-party integrations  
üìã Mobile companion app  

---

## üìÇ Project Structure

```
financial-pre-accounting-agent-beta/
‚îú‚îÄ‚îÄ src/                      # Source code
‚îÇ   ‚îú‚îÄ‚îÄ main/                 # Electron main process
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.js          # Entry point
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ preload.js        # Preload script
‚îÇ   ‚îú‚îÄ‚îÄ renderer/             # React UI components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.js            # Main React component
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/       # UI components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/            # Application pages
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.css        # CSS styles
‚îÇ   ‚îú‚îÄ‚îÄ common/               # Shared utilities
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logger.js         # Logging system
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pdf-generator.js  # PDF generation
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ currency-utils.js # Currency handling
‚îÇ   ‚îî‚îÄ‚îÄ data/                 # Data models and database
‚îÇ       ‚îú‚îÄ‚îÄ db.js             # Database implementation
‚îÇ       ‚îî‚îÄ‚îÄ db-helpers.js     # Database utilities
‚îú‚îÄ‚îÄ resources/                # Static resources
‚îÇ   ‚îú‚îÄ‚îÄ tax-rules/            # Tax rule definitions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ finance-law-2025.json # Tax rule data
‚îÇ   ‚îî‚îÄ‚îÄ images/               # Images for docs & UI
‚îú‚îÄ‚îÄ scripts/                  # Utility scripts
‚îÇ   ‚îú‚îÄ‚îÄ backup.js             # Backup utility
‚îÇ   ‚îî‚îÄ‚îÄ view-logs.js          # Log viewer
‚îú‚îÄ‚îÄ builds/                   # Build outputs
‚îú‚îÄ‚îÄ start-app.bat             # Quick start script for Windows
‚îú‚îÄ‚îÄ restart-app.bat           # Restart application script
‚îú‚îÄ‚îÄ docs/                     # Documentation
‚îú‚îÄ‚îÄ LICENSE                   # MIT License
‚îú‚îÄ‚îÄ CONTRIBUTING.md           # Contribution guidelines
‚îú‚îÄ‚îÄ README.md                 # This documentation
‚îî‚îÄ‚îÄ package.json              # Project dependencies
```

---

## ‚ùì Troubleshooting

### Common Issues

#### Application Won't Start

**Issue**: The application fails to launch after installation.

**Solutions**:
1. **Check Node.js version**:
   ```bash
   node --version
   ```
   Ensure you're using Node.js v12-v21 (v22+ not supported yet)

2. **Reinstall dependencies**:
   ```bash
   rm -rf node_modules
   npm install
   ```

3. **Check application logs** for specific error messages:
   - Windows: `%APPDATA%\financial-pre-accounting-agent-beta\logs`
   - macOS: `~/Library/Application Support/financial-pre-accounting-agent-beta/logs`
   - Linux: `~/.local/share/financial-pre-accounting-agent-beta/logs`

4. **Use the restart script**:
   ```bash
   ./restart-app.bat    # Windows
   ```

#### UI Elements Not Responding

**Issue**: Buttons, menu items, or other UI elements aren't responding to clicks.

**Solutions**:
1. **Restart the application** using the restart-app.bat script

2. **Clear application cache**:
   ```
   Settings ‚Üí System ‚Üí Clear Application Cache
   ```

3. **Check browser console** for JavaScript errors:
   ```
   View ‚Üí Toggle Developer Tools ‚Üí Console tab
   ```

#### No Documents Showing

**Issue**: Imported documents don't appear in the Document Manager.

**Solutions**:
1. **Check import directory**:
   ```
   Settings ‚Üí Document Storage ‚Üí Check configured paths
   ```

2. **Restart application** after importing your first document

3. **Verify file permissions** on the document storage directory

#### Tax Calculations Not Working

**Issue**: Tax calculations show errors or incorrect values.

**Solutions**:
1. **Verify tax rules file**:
   ```
   resources/tax-rules/finance-law-2025.json
   ```
   Ensure this file exists and is properly formatted

2. **Update application** to latest version for current tax rules

3. **Check console** for JavaScript errors:
   ```
   View ‚Üí Toggle Developer Tools
   ```

### Error Logging

The application includes a comprehensive logging system that captures errors and application state. You can access logs in several ways:

#### View Logs in Application

1. Navigate to "Settings"
2. Select "System"
3. Click "View Application Logs"

#### Access Log Files Directly

Log files are stored in your application data directory:
- Windows: `%APPDATA%\financial-pre-accounting-agent-beta\logs`
- macOS: `~/Library/Application Support/financial-pre-accounting-agent-beta/logs`
- Linux: `~/.local/share/financial-pre-accounting-agent-beta/logs`

#### View Logs via CLI

Run the included log viewer utility:
```bash
npm run logs
```

---

## ‚ö° Performance Optimization

### For Large Document Sets

If you're working with a large number of documents (1000+), consider these optimizations:

1. **Batch Processing**:
   - Import documents in batches of 50-100 rather than all at once
   - Schedule imports during off-hours using the scheduler feature

2. **Storage Management**:
   - Use the "Archive Old Documents" feature for documents older than 3 years
   - Enable the "Compress Images" option in document settings

3. **Database Optimization**:
   - Run "Optimize Database" from the Settings ‚Üí Maintenance menu monthly
   - Increase the cache size if you have sufficient RAM

### Hardware Recommendations

For optimal performance with large document sets (5000+ documents):

- **CPU**: Quad-core processor or better
- **RAM**: 16GB minimum
- **Storage**: SSD with at least 5GB free space
- **Display**: Full HD (1080p) or higher resolution

---

## üîí Security & Privacy

Financial Pre-Accounting Manager is designed with security and privacy as core principles:

### Data Security

- **Complete Offline Operation**: No internet connection required
- **Local Storage**: All data stored exclusively on your device
- **No Cloud Uploads**: Your financial data never leaves your computer
- **No Telemetry**: No usage statistics or data collection

### Privacy Protections

- **No Registration Required**: Use the software without creating an account
- **No Identifying Information**: No personal data required to operate
- **Local Processing**: All document processing happens locally on your machine
- **No Third-Party Services**: No external APIs or services accessed

### Best Practices

To maximize security:

1. **Regular Backups**: Use the built-in backup feature
2. **Update Regularly**: Install updates for security patches
3. **Secure Your Device**: Use disk encryption and strong passwords
4. **Controlled Access**: Limit who has access to the computer running the application

---

## üë• Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

### Contribution Workflow

1. Fork the project
2. Create your feature branch:
   ```bash
   git checkout -b feature/amazing-feature
   ```
3. Commit your changes:
   ```bash
   git commit -m 'Add some amazing feature'
   ```
4. Push to the branch:
   ```bash
   git push origin feature/amazing-feature
   ```
5. Open a Pull Request

### Development Setup

```bash
# Clone your fork
git clone https://github.com/YOUR-USERNAME/financial-pre-accounting-agent-beta.git

# Install dependencies
npm install

# Run in development mode
npm run dev
```

See the [CONTRIBUTING.md](CONTRIBUTING.md) file for detailed guidelines.

---

## ‚ùì Frequently Asked Questions

### General Questions

**Q: Is this a replacement for my accountant?**

A: No. Financial Pre-Accounting Manager is designed to help organize and prepare your financial data before submitting it to a professional accountant. It's a complementary tool that makes the accounting process more efficient.

**Q: How accurate are the tax calculations?**

A: The tax calculations implement Finance Law 2025 regulations as accurately as possible. However, tax laws can be complex and subject to interpretation. Always verify calculations with a professional accountant.

### Technical Questions

**Q: Can I import data from other accounting software?**

A: Yes, the application supports importing CSV and Excel files from common accounting software. Use the "Import Data" feature in the File menu.

**Q: Is my data backed up automatically?**

A: The application includes an automatic backup feature that can be configured in Settings ‚Üí Backup. By default, it creates a backup every 7 days.

**Q: Can I use this on multiple computers?**

A: Yes, the application can be installed on multiple computers. However, there's no built-in synchronization between installations. You would need to manually transfer data between them using the export/import features.

### Feature Questions

**Q: Does it support languages other than English?**

A: Currently, the application supports English and French. Arabic support is planned for a future update.

**Q: Can I customize the tax rates if they change?**

A: Yes, tax rates and rules can be updated through the Settings ‚Üí Tax Rules menu, or by directly editing the `resources/tax-rules/finance-law-2025.json` file.

---

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ‚ö†Ô∏è Disclaimer

This software is meant to assist with pre-accounting tasks and does not replace professional accounting advice. While we strive for accuracy in implementing tax rules and calculations, tax laws are complex and subject to interpretation. Always verify calculations with a certified accountant before making financial decisions or tax filings.

The developers and contributors to this project cannot be held liable for any inaccuracies or financial decisions made based on the outputs of this software.

---

<p align="center">
  <b>Financial Pre-Accounting Manager v3.2.0-beta</b><br>
  Developed with ‚ù§Ô∏è for Moroccan businesses
</p>
